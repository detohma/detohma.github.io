<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="detohma - BlueHaze Lyrics">
    <link rel="icon" type="image/svg+xml" href="images/detohma_logo_round.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlueHaze | detohma</title>

    <!-- CSS -->
    <link href="css/style.css" rel="stylesheet">
    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/369f8528a6.js" crossorigin="anonymous"></script>
    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lobster&family=Noto+Serif+JP:wght@200..900&display=swap" rel="stylesheet">
</head>
<body>
    
    <!-- ヘッダー読み込みエリア -->
    <div id="header-container"></div>

    <div class="lyricPageBody">
        <main class="section lyricSection">
            <div class="titleLine">
                <h2><img src="images/bluehaze_photo.png" class="icon-songs-bluehaze-lyrics" alt="">BlueHaze</h2>
                <p class="credit">Music & Lyrics: kazu</p>
            </div>
            
            <button class="toggle-btn" onclick="toggleTranslation()" aria-expanded="false">Show English Translation</button>
            
            <div class="lyricsAndTranslation">
                <div class="JapaneseLyrics">
                    <p class="lyrics">
                    なかったことにはしたくない
                    今の僕はそれを経た僕だから
                    顔あげなくたって良いでしょう
                    一歩ずつ足元を見ながら
                    確かめて歩きたいんだ

                    探して見つけたら教えてよ
                    探していたものじゃなくても
                    その目に映るもの教えてよ
                    心に触れたこと教えてよ

                    ブルーヘイズ
                    とりあえず
                    出来る事しか出来ないから

                    僕の心がいつも僕の
                    思い通りになる訳じゃない
                    でもいつも僕が僕の
                    心の司令塔でありたい
                    どこにも行かない慰安旅行の末
                    喜怒哀楽の真ん中に
                    帰ってきたいんだ

                    探して見つけたら教えてよ
                    探していたものじゃなくても
                    見つからなくても教えてよ
                    見つからなかったそのことを

                    探して見つけたら教えてよ
                    探していたものじゃなくても
                    その目に映るもの教えてよ
                    心に触れたこと教えてよ

                    ブルーヘイズ
                    抗えず
                    流されていくだけでも

                    ブルーヘイズ
                    とりあえず
                    出来る事なら出来るはずさ
                    出来る事しか出来ないから
                    </p>
                </div>
                
                <div id="translation" class="translation hidden cardTranslation">
                    <p class="creditForTranslation">English translation: なたにあ</p>
                    <p class="lyrics">
                        I don't want to pretend it didn't happen
                        Cuz it's a part of who I am now
                        Isn't it fine if I don't hold my head up?
                        One step at a time, my eyes on my feet,
                        I just want to watch where I’m going

                        Tell me if you found something
                        Even if it wasn't what you were looking for
                        Tell me the things that are reflected in your eyes
                        Tell me the things that touch your heart

                        BlueHaze, 
                        in the meantime
                        I can only do the things I can do

                        My heart might not always follow my mind
                        But I’d like to stay in charge 
                        of the direction of my heart 

                        After a long vacation of wandering
                        I just want to come right back to 
                        the center of my emotions

                        Tell me if you found something
                        Even if it wasn’t what you were looking for
                        Tell me even if you couldn’t find it
                        You can tell me that you couldn’t find it

                        Tell me if you found something
                        Even if it wasn’t what you were looking for
                        Tell me the things that are reflected in your eyes
                        Tell me the things that touch your heart

                        BlueHaze, 
                        even if you are just 
                        getting swept away without resisting

                        BlueHaze, 
                        in the meantime
                        You should be able to do the things you can
                        Cuz I can only do the things I can do
                    </p>
                </div>
            </div>

            <p><a class="backToHome" href="index.html">Back to Home</a></p>
        </main>

        <aside class="sidebar-content-for-lyrics">
            <div id="songListPlaceholder"></div> 
        </aside>
    </div>
<footer id="footer">
    <ul class="copyright">
        <li><span>&copy; 2023 detohma</span></li>
    </ul>
</footer>
    <!-- JavaScript Control -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // 1. ヘッダー読み込み
            fetch("header.html")
            .then(response => response.text())
            .then(data => {
                document.getElementById("header-container").innerHTML = data;
                initScrollEvent();
            });

            // 2. ソングリスト読み込み
            fetch("songlist.html")
            .then(response => response.text())
            .then(data => {
                const placeholder = document.getElementById("songListPlaceholder");
                if(placeholder){
                    placeholder.innerHTML = data;
                }
            });
        });

        // スクロール制御関数
        function initScrollEvent() {
            const header = document.querySelector('header');
            if (!header) return;

            window.addEventListener('scroll', function() {
                const scrollPosition = window.scrollY;
                if (scrollPosition > 40) {
                    header.classList.add('scrolled-header');
                } else {
                    header.classList.remove('scrolled-header');
                }
            });
        }

        // 翻訳切り替え関数
        function toggleTranslation(){
            const box = document.getElementById('translation');
            const btn = document.querySelector('.toggle-btn');
            const mobileMediaQuery = window.matchMedia('(max-width: 768px)');

            box.classList.toggle('hidden');
            const isHidden = box.classList.contains('hidden');

            // ARIA属性の更新（アクセシビリティ対応）
            btn.setAttribute('aria-expanded', !isHidden);

            if(isHidden){
                btn.textContent = "Show English Translation";
            } else{
                btn.textContent = "Hide English Translation";
                // スマホ表示時のみスクロール
                if(mobileMediaQuery.matches){
                    box.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            }
        }
    </script>
</body>
</html>